{
    "branches": [
        "main"
    ],
    "plugins": [
        "@semantic-release/release-notes-generator",
        "@semantic-release/git",
        {
            "path": "@semantic-release/exec",
            "prepareCmd": "cat manifest.json && sed -i 's#\\(\"start_url\": \"/morse-code/\\?version=\\)[^\"]*#\\1'\"${nextRelease.version}\"'#g' manifest.json && cat manifest.json && git add manifest.json && git status"
        },  
        {
            "path": "@semantic-release/npm",
            "npmPublish": false
        },        
        "@semantic-release/changelog",
        {
            "path": "@semantic-release/git",
            "assets": [
                "package.json",                
                "manifest.json",
                "CHANGELOG.md"
            ],
            "message": "chore(release): ${nextRelease.version} [skip ci]\n\n${nextRelease.notes}"
        },     
        "@semantic-release/commit-analyzer",
        {
            "releaseRules": [
                {
                    "type": "chore",
                    "release": "patch"
                },
                {
                    "type": "docs",
                    "release": "patch"
                }
            ]
        }
    ]
}